.code {
  border-radius: 4px;
  border: 1px solid $light-border;

  .line { float: none; }

  .CodeRay { border: none; padding: 0; white-space: normal; }
  .CodeRay .line { display: inline; float: none; width: auto; }

  .CodeRay .pre { padding-left: 5px; white-space: pre-wrap; width: 100%; }

  .code-line.removed { background: rgba(240, 0, 0, 0.08); }
  .code-line.added   { background: rgba(0, 240, 0, 0.08); }

  .code-line {
    display: table;

    .line-numbers {
      // Inserting the numbers this way prevents selecting and copying them with the code
      &::before { content: attr(data-line-number); }

      @include no-selection;

      background-color: $gray;
      display: table-cell;
      min-width: 45px;
      padding-right: 10px;
      text-align: right;
    }

    .pre { display: table-cell; }
  }
}
